{"ast":null,"code":"import _objectSpread from\"C:/Users/MoritzSteinbach/Desktop/B\\xFCroplanner/officeplan/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{format,startOfWeek,addDays,isToday}from'date-fns';import{de}from'date-fns/locale';import{ChevronLeft,ChevronRight,User,X,Plus,Dog,Trash2,Lock}from'lucide-react';import{storage}from'../utils/storage';import{getDeviceId}from'../utils/identity';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceCalendar=_ref=>{let{selectedDate,onDateSelect}=_ref;const[employees,setEmployees]=useState([]);const[attendance,setAttendance]=useState([]);const[currentWeek,setCurrentWeek]=useState([]);const[newEmployeeName,setNewEmployeeName]=useState('');const[showPasswordModal,setShowPasswordModal]=useState(false);const[passwordModalType,setPasswordModalType]=useState('set');const[passwordInput,setPasswordInput]=useState('');const[pendingAction,setPendingAction]=useState(null);useEffect(()=>{console.log('AttendanceCalendar - Initialisierung');loadData();generateWeekDays();},[]);useEffect(()=>{generateWeekDays();},[selectedDate]);// Daten neu laden wenn sich Mitarbeiter oder Anwesenheitsdaten ändern\nuseEffect(()=>{const unsubscribe=storage.onDataChange(()=>{console.log('Datenänderung erkannt - lade Daten neu');loadData();});return unsubscribe;},[]);const loadData=async()=>{try{// Verwaiste Anwesenheitsdaten bereinigen\nawait storage.cleanOrphanedAttendanceData();const[allEmployees,allAttendance]=await Promise.all([storage.getEmployees(),storage.getAttendance()]);// Sortierung: Lokal hinzugefügte Mitarbeiter immer oben\nif(allEmployees.length>0){const localEmployeeIds=JSON.parse(localStorage.getItem('local_employees')||'[]');allEmployees.sort((a,b)=>{const aIsLocal=localEmployeeIds.includes(a.id);const bIsLocal=localEmployeeIds.includes(b.id);// Lokale Mitarbeiter kommen zuerst\nif(aIsLocal&&!bIsLocal)return-1;if(!aIsLocal&&bIsLocal)return 1;// Innerhalb der Gruppen nach ID sortieren\nconst idA=parseInt(a.id);const idB=parseInt(b.id);return idA-idB;});}setEmployees(allEmployees);setAttendance(allAttendance);}catch(error){console.error('Fehler beim Laden der Daten:',error);// Fallback zu leeren Arrays bei Fehlern\nsetEmployees([]);setAttendance([]);}};const generateWeekDays=()=>{const weekStart=startOfWeek(selectedDate,{weekStartsOn:1});const days=[];// Nur Montag bis Freitag (5 Tage)\nfor(let i=0;i<5;i++){days.push(addDays(weekStart,i));}setCurrentWeek(days);};const getStatusIcon=status=>{if(!status)return/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 text-red-600\"});// default: Abwesend\nswitch(status){case'present':return/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-green-600\"});case'present_with_dog':return/*#__PURE__*/_jsx(Dog,{className:\"w-4 h-4 text-orange-600\"});case'absent':return/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 text-red-600\"});default:return/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 text-red-600\"});}};const getStatusColor=status=>{if(!status)return'bg-red-100 text-red-800 border-red-200';// default: Abwesend\nswitch(status){case'present':return'bg-green-100 text-green-800 border-green-200';case'present_with_dog':return'bg-orange-100 text-orange-800 border-orange-200';case'absent':return'bg-red-100 text-red-800 border-red-200';default:return'bg-red-100 text-red-800 border-red-200';}};const getStatusText=status=>{if(!status)return'Abwesend';switch(status){case'present':return'Anwesend';case'present_with_dog':return'Mit Hund';case'absent':return'Abwesend';default:return'Abwesend';}};const getAttendanceForEmployeeAndDate=(employeeId,date)=>{const dateStr=format(date,'yyyy-MM-dd');return attendance.find(entry=>entry.employeeId===employeeId&&entry.date===dateStr);};const getDogCountForDate=date=>{const dateStr=format(date,'yyyy-MM-dd');return attendance.filter(entry=>entry.date===dateStr&&entry.status==='present_with_dog').length;};const getActiveCountForDate=date=>{const dateStr=format(date,'yyyy-MM-dd');return attendance.filter(entry=>entry.date===dateStr&&(entry.status==='present'||entry.status==='present_with_dog')).length;};const canModifyEntry=entry=>{const deviceId=getDeviceId();if(!entry)return true;// Neue Einträge immer erlaubt\nif(!entry.ownerId)return true;// Alte Einträge ohne Owner\nif(entry.ownerId===deviceId)return true;// Eigenes Gerät\nreturn false;// Fremdes Gerät - Passwort nötig\n};const handleCellClick=async(employeeId,date)=>{const existingEntry=getAttendanceForEmployeeAndDate(employeeId,date);// Prüfen ob Bearbeitung erlaubt ist\nif(existingEntry&&!canModifyEntry(existingEntry)){// Fremder Eintrag - Passwort erforderlich\nif(existingEntry.password){// Passwort ist gesetzt - Abfrage erforderlich\nsetPendingAction({employeeId,date,entry:existingEntry});setPasswordModalType('verify');setPasswordInput('');setShowPasswordModal(true);return;}else{// Kein Passwort gesetzt - nicht bearbeitbar\nalert('Dieser Eintrag wurde von einem anderen Gerät erstellt und hat kein Passwort. Er kann nicht bearbeitet werden.');return;}}const dogCount=getDogCountForDate(date);const activeCount=getActiveCountForDate(date);const dateStr=format(date,'yyyy-MM-dd');console.log('DEBUG - Click:',{employeeId,date:dateStr,existingStatus:existingEntry===null||existingEntry===void 0?void 0:existingEntry.status,dogCount,allEntriesForDate:attendance.filter(entry=>entry.date===dateStr)});try{if(existingEntry){// Gewünschte Reihenfolge: absent -> present -> present_with_dog -> absent\nlet newStatus;if(existingEntry.status==='absent'){newStatus='present';}else if(existingEntry.status==='present'){// Nächster Schritt wäre \"mit Hund\", aber nur wenn Hundelimit nicht erreicht\nif(dogCount>=2){newStatus='absent';}else{newStatus='present_with_dog';}}else if(existingEntry.status==='present_with_dog'){newStatus='absent';}else{newStatus='present';}// Warnung ab der 26. aktiven Person (present/present_with_dog) am Tag\nconst wasActive=existingEntry.status==='present'||existingEntry.status==='present_with_dog';const willBeActive=newStatus==='present'||newStatus==='present_with_dog';const projectedActive=activeCount+(willBeActive&&!wasActive?1:0)-(!willBeActive&&wasActive?1:0);if(projectedActive>25&&willBeActive){alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');}const updatedEntry=_objectSpread(_objectSpread({},existingEntry),{},{status:newStatus});await storage.addAttendanceEntry(updatedEntry);}else{// Neuen Eintrag erstellen - Passwort-Abfrage anzeigen\nsetPendingAction({employeeId,date});setPasswordModalType('set');setPasswordInput('');setShowPasswordModal(true);return;}// Daten neu laden um sicherzustellen, dass alles synchron ist\nconst updatedAttendance=await storage.getAttendance();setAttendance(updatedAttendance);console.log('Status aktualisiert:',{employeeId,date:dateStr,newStatus:existingEntry?'updated':'created',totalAttendanceEntries:updatedAttendance.length,entriesForDate:updatedAttendance.filter(entry=>entry.date===dateStr).length});}catch(error){console.error('Fehler beim Aktualisieren der Anwesenheit:',error);alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');}};const handlePasswordSubmit=async()=>{if(!pendingAction)return;const{employeeId,date,entry}=pendingAction;const dateStr=format(date,'yyyy-MM-dd');if(passwordModalType==='verify'){// Passwort verifizieren\nif(!entry)return;if(passwordInput!==entry.password){alert('Falsches Passwort!');return;}// Passwort korrekt - Eintrag bearbeiten\nsetShowPasswordModal(false);setPendingAction(null);setPasswordInput('');// Jetzt den eigentlichen Click durchführen\nawait performEntryUpdate(employeeId,date,entry);}else{// Neues Passwort setzen und Eintrag erstellen\nconst dogCount=getDogCountForDate(date);const activeCount=getActiveCountForDate(date);// Warnung für neuen aktiven Eintrag ab der 26. Person\nif(activeCount+1>25){alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');}const newEntry={id:Date.now().toString(),employeeId:employeeId,date:dateStr,status:'present',ownerId:getDeviceId(),password:passwordInput||undefined// Nur setzen wenn nicht leer\n};try{await storage.addAttendanceEntry(newEntry);const updatedAttendance=await storage.getAttendance();setAttendance(updatedAttendance);setShowPasswordModal(false);setPendingAction(null);setPasswordInput('');}catch(error){console.error('Fehler beim Speichern der Anwesenheit:',error);alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');}}};const performEntryUpdate=async(employeeId,date,existingEntry)=>{const dateStr=format(date,'yyyy-MM-dd');const dogCount=getDogCountForDate(date);const activeCount=getActiveCountForDate(date);try{// Gewünschte Reihenfolge: absent -> present -> present_with_dog -> absent\nlet newStatus;if(existingEntry.status==='absent'){newStatus='present';}else if(existingEntry.status==='present'){// Nächster Schritt wäre \"mit Hund\", aber nur wenn Hundelimit nicht erreicht\nif(dogCount>=2){newStatus='absent';}else{newStatus='present_with_dog';}}else if(existingEntry.status==='present_with_dog'){newStatus='absent';}else{newStatus='present';}// Warnung ab der 26. aktiven Person (present/present_with_dog) am Tag\nconst wasActive=existingEntry.status==='present'||existingEntry.status==='present_with_dog';const willBeActive=newStatus==='present'||newStatus==='present_with_dog';const projectedActive=activeCount+(willBeActive&&!wasActive?1:0)-(!willBeActive&&wasActive?1:0);if(projectedActive>25&&willBeActive){alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');}const updatedEntry=_objectSpread(_objectSpread({},existingEntry),{},{status:newStatus});await storage.addAttendanceEntry(updatedEntry);// Daten neu laden um sicherzustellen, dass alles synchron ist\nconst updatedAttendance=await storage.getAttendance();setAttendance(updatedAttendance);}catch(error){console.error('Fehler beim Aktualisieren der Anwesenheit:',error);alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');}};const handleAddEmployee=async()=>{if(!newEmployeeName.trim())return;try{const newEmployee=await storage.addEmployee({name:newEmployeeName.trim(),department:'Unbekannt'// Standardwert\n});// Lokal hinzugefügte Mitarbeiter in localStorage speichern\nconst localEmployees=JSON.parse(localStorage.getItem('local_employees')||'[]');localEmployees.push(newEmployee.id);localStorage.setItem('local_employees',JSON.stringify(localEmployees));setNewEmployeeName('');await loadData();// Daten neu laden, um den neuen Mitarbeiter zu sehen\n}catch(error){console.error('Fehler beim Hinzufügen des Mitarbeiters:',error);alert('Fehler beim Hinzufügen des Mitarbeiters. Bitte versuchen Sie es erneut.');}};const handleDeleteEmployee=async employeeId=>{const employee=employees.find(emp=>emp.id===employeeId);if(!employee)return;const confirmMessage=\"Sind Sie sicher, dass Sie \\\"\".concat(employee.name,\"\\\" l\\xF6schen m\\xF6chten?\\n\\nDies l\\xF6scht auch alle Anwesenheitsdaten dieser Person.\");if(window.confirm(confirmMessage)){try{await storage.deleteEmployee(employeeId);setEmployees(employees.filter(emp=>emp.id!==employeeId));// Lokalen Mitarbeiter aus localStorage entfernen\nconst localEmployees=JSON.parse(localStorage.getItem('local_employees')||'[]');const updatedLocalEmployees=localEmployees.filter(id=>id!==employeeId);localStorage.setItem('local_employees',JSON.stringify(updatedLocalEmployees));// Anwesenheitsdaten lokal aktualisieren\nconst cleanedAttendance=attendance.filter(entry=>entry.employeeId!==employeeId);setAttendance(cleanedAttendance);console.log('Mitarbeiter erfolgreich gelöscht:',{employeeName:employee.name,employeeId,removedAttendanceEntries:attendance.length-cleanedAttendance.length});}catch(error){console.error('Fehler beim Löschen des Mitarbeiters:',error);alert('Fehler beim Löschen des Mitarbeiters. Bitte versuchen Sie es erneut.');}}};const handlePreviousWeek=()=>{const newDate=addDays(selectedDate,-7);onDateSelect(newDate);};const handleNextWeek=()=>{const newDate=addDays(selectedDate,7);onDateSelect(newDate);};const isCurrentWeek=()=>{const currentWeekStart=startOfWeek(new Date(),{weekStartsOn:1});const selectedWeekStart=startOfWeek(selectedDate,{weekStartsOn:1});return currentWeekStart.getTime()===selectedWeekStart.getTime();};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[!isCurrentWeek()&&/*#__PURE__*/_jsx(\"button\",{onClick:handlePreviousWeek,className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:currentWeek.length>0?\"\".concat(format(currentWeek[0],'dd.MM.yyyy',{locale:de}),\" - \").concat(format(currentWeek[4],'dd.MM.yyyy',{locale:de})):'Lade Kalender...'}),currentWeek.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mt-2 space-x-4 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"\".concat(getActiveCountForDate(selectedDate)>=25?'text-red-600 font-medium':''),children:[getActiveCountForDate(selectedDate),\"/25 belegt (f\\xFCr \",format(selectedDate,'dd.MM.yyyy',{locale:de}),\")\"]})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextWeek,className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})})]})}),currentWeek.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Mitarbeiter\"}),currentWeek.map(date=>/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-3 text-center text-sm font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:format(date,'EEE',{locale:de})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(isToday(date)?'text-blue-600 bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center':''),children:format(date,'dd')}),/*#__PURE__*/_jsxs(\"span\",{className:\"mt-1 text-[11px] \".concat(getActiveCountForDate(date)>=25?'text-red-600 font-medium':'text-gray-500'),children:[getActiveCountForDate(date),\"/25\"]})]})},date.toISOString()))]})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[employees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-700\",children:employee.name.split(' ').map(n=>n[0]).join('')})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:employee.name})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteEmployee(employee.id);},className:\"p-1 hover:bg-red-100 rounded-full text-red-600 transition-colors disabled:opacity-40\",title:\"Mitarbeiter l\\xF6schen\",disabled:!// Nur lokale Mitarbeiter (aus eigener Liste) dürfen gelöscht werden\nJSON.parse(localStorage.getItem('local_employees')||'[]').includes(employee.id),children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})}),currentWeek.map(date=>{var _entry$status;const entry=getAttendanceForEmployeeAndDate(employee.id,date);const dogCount=getDogCountForDate(date);const displayStatus=(_entry$status=entry===null||entry===void 0?void 0:entry.status)!==null&&_entry$status!==void 0?_entry$status:'absent';const isProtected=entry&&entry.password&&!canModifyEntry(entry);return/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors relative\",onClick:()=>handleCellClick(employee.id,date),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border \".concat(getStatusColor(displayStatus)),children:[getStatusIcon(displayStatus),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:getStatusText(displayStatus)}),isProtected&&/*#__PURE__*/_jsx(\"span\",{title:\"Passwortgesch\\xFCtzt\",children:/*#__PURE__*/_jsx(Lock,{className:\"w-3 h-3 ml-1 opacity-50\"})})]})})},date.toISOString());})]},employee.id)),/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 text-green-600\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 min-w-0\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Vollst\\xE4ndiger Name...\",value:newEmployeeName,onChange:e=>setNewEmployeeName(e.target.value),className:\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",onKeyPress:e=>e.key==='Enter'&&handleAddEmployee()})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 flex items-center mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleAddEmployee,disabled:!newEmployeeName.trim(),className:\"px-4 py-1.5 text-sm font-medium bg-green-700 text-white rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors whitespace-nowrap\",children:\"Hinzuf\\xFCgen\"})})]})}),currentWeek.map(date=>/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-4 text-center\"},date.toISOString()))]})]})]})})}),showPasswordModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:passwordModalType==='set'?'Passwort festlegen (optional)':'Passwort eingeben'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[passwordModalType==='set'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Du kannst optional ein Passwort festlegen, um diesen Eintrag von anderen Ger\\xE4ten aus bearbeiten zu k\\xF6nnen. Wenn du kein Passwort setzt, kannst du den Eintrag nur von diesem Ger\\xE4t aus bearbeiten.\"}),passwordModalType==='verify'&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Dieser Eintrag wurde von einem anderen Ger\\xE4t erstellt. Bitte gib das Passwort ein, um ihn zu bearbeiten.\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:[\"Passwort \",passwordModalType==='set'&&'(optional)']}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:passwordInput,onChange:e=>setPasswordInput(e.target.value),className:\"input-field\",placeholder:passwordModalType==='set'?'Leer lassen für kein Passwort':'Passwort eingeben',onKeyPress:e=>{if(e.key==='Enter'){handlePasswordSubmit();}},autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowPasswordModal(false);setPendingAction(null);setPasswordInput('');},className:\"btn-secondary\",children:\"Abbrechen\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePasswordSubmit,className:\"btn-primary\",children:passwordModalType==='set'?'Erstellen':'Bestätigen'})]})]})]})})})]});};export default AttendanceCalendar;","map":{"version":3,"names":["React","useState","useEffect","format","startOfWeek","addDays","isToday","de","ChevronLeft","ChevronRight","User","X","Plus","Dog","Trash2","Lock","storage","getDeviceId","jsx","_jsx","jsxs","_jsxs","AttendanceCalendar","_ref","selectedDate","onDateSelect","employees","setEmployees","attendance","setAttendance","currentWeek","setCurrentWeek","newEmployeeName","setNewEmployeeName","showPasswordModal","setShowPasswordModal","passwordModalType","setPasswordModalType","passwordInput","setPasswordInput","pendingAction","setPendingAction","console","log","loadData","generateWeekDays","unsubscribe","onDataChange","cleanOrphanedAttendanceData","allEmployees","allAttendance","Promise","all","getEmployees","getAttendance","length","localEmployeeIds","JSON","parse","localStorage","getItem","sort","a","b","aIsLocal","includes","id","bIsLocal","idA","parseInt","idB","error","weekStart","weekStartsOn","days","i","push","getStatusIcon","status","className","getStatusColor","getStatusText","getAttendanceForEmployeeAndDate","employeeId","date","dateStr","find","entry","getDogCountForDate","filter","getActiveCountForDate","canModifyEntry","deviceId","ownerId","handleCellClick","existingEntry","password","alert","dogCount","activeCount","existingStatus","allEntriesForDate","newStatus","wasActive","willBeActive","projectedActive","updatedEntry","_objectSpread","addAttendanceEntry","updatedAttendance","totalAttendanceEntries","entriesForDate","handlePasswordSubmit","performEntryUpdate","newEntry","Date","now","toString","undefined","handleAddEmployee","trim","newEmployee","addEmployee","name","department","localEmployees","setItem","stringify","handleDeleteEmployee","employee","emp","confirmMessage","concat","window","confirm","deleteEmployee","updatedLocalEmployees","cleanedAttendance","employeeName","removedAttendanceEntries","handlePreviousWeek","newDate","handleNextWeek","isCurrentWeek","currentWeekStart","selectedWeekStart","getTime","children","onClick","locale","map","toISOString","split","n","join","e","stopPropagation","title","disabled","_entry$status","displayStatus","isProtected","type","placeholder","value","onChange","target","onKeyPress","key","autoFocus"],"sources":["C:/Users/MoritzSteinbach/Desktop/Büroplanner/officeplan/src/components/AttendanceCalendar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format, startOfWeek, addDays, isToday } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { ChevronLeft, ChevronRight, User, X, Plus, Dog, Trash2, Lock } from 'lucide-react';\nimport { Employee, AttendanceEntry, AttendanceStatus } from '../types';\nimport { storage } from '../utils/storage';\nimport { getDeviceId } from '../utils/identity';\n\ninterface AttendanceCalendarProps {\n  selectedDate: Date;\n  onDateSelect: (date: Date) => void;\n}\n\nconst AttendanceCalendar: React.FC<AttendanceCalendarProps> = ({ selectedDate, onDateSelect }) => {\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [attendance, setAttendance] = useState<AttendanceEntry[]>([]);\n  const [currentWeek, setCurrentWeek] = useState<Date[]>([]);\n  const [newEmployeeName, setNewEmployeeName] = useState('');\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [passwordModalType, setPasswordModalType] = useState<'set' | 'verify'>('set');\n  const [passwordInput, setPasswordInput] = useState('');\n  const [pendingAction, setPendingAction] = useState<{employeeId: string, date: Date, entry?: AttendanceEntry} | null>(null);\n\n  useEffect(() => {\n    console.log('AttendanceCalendar - Initialisierung');\n    \n    loadData();\n    generateWeekDays();\n  }, []);\n\n  useEffect(() => {\n    generateWeekDays();\n  }, [selectedDate]);\n\n  // Daten neu laden wenn sich Mitarbeiter oder Anwesenheitsdaten ändern\n  useEffect(() => {\n    const unsubscribe = storage.onDataChange(() => {\n      console.log('Datenänderung erkannt - lade Daten neu');\n      loadData();\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const loadData = async () => {\n    try {\n      // Verwaiste Anwesenheitsdaten bereinigen\n      await storage.cleanOrphanedAttendanceData();\n      \n      const [allEmployees, allAttendance] = await Promise.all([\n        storage.getEmployees(),\n        storage.getAttendance()\n      ]);\n      \n      // Sortierung: Lokal hinzugefügte Mitarbeiter immer oben\n      if (allEmployees.length > 0) {\n        const localEmployeeIds = JSON.parse(localStorage.getItem('local_employees') || '[]');\n        \n        allEmployees.sort((a, b) => {\n          const aIsLocal = localEmployeeIds.includes(a.id);\n          const bIsLocal = localEmployeeIds.includes(b.id);\n          \n          // Lokale Mitarbeiter kommen zuerst\n          if (aIsLocal && !bIsLocal) return -1;\n          if (!aIsLocal && bIsLocal) return 1;\n          \n          // Innerhalb der Gruppen nach ID sortieren\n          const idA = parseInt(a.id);\n          const idB = parseInt(b.id);\n          return idA - idB;\n        });\n      }\n      \n      setEmployees(allEmployees);\n      setAttendance(allAttendance);\n    } catch (error) {\n      console.error('Fehler beim Laden der Daten:', error);\n      // Fallback zu leeren Arrays bei Fehlern\n      setEmployees([]);\n      setAttendance([]);\n    }\n  };\n\n  const generateWeekDays = () => {\n    const weekStart = startOfWeek(selectedDate, { weekStartsOn: 1 });\n    const days: Date[] = [];\n    // Nur Montag bis Freitag (5 Tage)\n    for (let i = 0; i < 5; i++) {\n      days.push(addDays(weekStart, i));\n    }\n    setCurrentWeek(days);\n  };\n\n  const getStatusIcon = (status: AttendanceStatus | null) => {\n    if (!status) return <X className=\"w-4 h-4 text-red-600\" />; // default: Abwesend\n    \n    switch (status) {\n      case 'present':\n        return <User className=\"w-4 h-4 text-green-600\" />;\n      case 'present_with_dog':\n        return <Dog className=\"w-4 h-4 text-orange-600\" />;\n      case 'absent':\n        return <X className=\"w-4 h-4 text-red-600\" />;\n      default:\n        return <X className=\"w-4 h-4 text-red-600\" />;\n    }\n  };\n\n  const getStatusColor = (status: AttendanceStatus | null) => {\n    if (!status) return 'bg-red-100 text-red-800 border-red-200'; // default: Abwesend\n    \n    switch (status) {\n      case 'present':\n        return 'bg-green-100 text-green-800 border-green-200';\n      case 'present_with_dog':\n        return 'bg-orange-100 text-orange-800 border-orange-200';\n      case 'absent':\n        return 'bg-red-100 text-red-800 border-red-200';\n      default:\n        return 'bg-red-100 text-red-800 border-red-200';\n    }\n  };\n\n  const getStatusText = (status: AttendanceStatus | null) => {\n    if (!status) return 'Abwesend';\n    \n    switch (status) {\n      case 'present':\n        return 'Anwesend';\n      case 'present_with_dog':\n        return 'Mit Hund';\n      case 'absent':\n        return 'Abwesend';\n      default:\n        return 'Abwesend';\n    }\n  };\n\n  const getAttendanceForEmployeeAndDate = (employeeId: string, date: Date) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    return attendance.find(entry => \n      entry.employeeId === employeeId && entry.date === dateStr\n    );\n  };\n\n  const getDogCountForDate = (date: Date) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    return attendance.filter(entry => \n      entry.date === dateStr && entry.status === 'present_with_dog'\n    ).length;\n  };\n\n  const getActiveCountForDate = (date: Date) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    return attendance.filter(entry => \n      entry.date === dateStr && (entry.status === 'present' || entry.status === 'present_with_dog')\n    ).length;\n  };\n\n  const canModifyEntry = (entry?: AttendanceEntry | null): boolean => {\n    const deviceId = getDeviceId();\n    if (!entry) return true; // Neue Einträge immer erlaubt\n    if (!entry.ownerId) return true; // Alte Einträge ohne Owner\n    if (entry.ownerId === deviceId) return true; // Eigenes Gerät\n    return false; // Fremdes Gerät - Passwort nötig\n  };\n\n  const handleCellClick = async (employeeId: string, date: Date) => {\n    const existingEntry = getAttendanceForEmployeeAndDate(employeeId, date);\n    \n    // Prüfen ob Bearbeitung erlaubt ist\n    if (existingEntry && !canModifyEntry(existingEntry)) {\n      // Fremder Eintrag - Passwort erforderlich\n      if (existingEntry.password) {\n        // Passwort ist gesetzt - Abfrage erforderlich\n        setPendingAction({ employeeId, date, entry: existingEntry });\n        setPasswordModalType('verify');\n        setPasswordInput('');\n        setShowPasswordModal(true);\n        return;\n      } else {\n        // Kein Passwort gesetzt - nicht bearbeitbar\n        alert('Dieser Eintrag wurde von einem anderen Gerät erstellt und hat kein Passwort. Er kann nicht bearbeitet werden.');\n        return;\n      }\n    }\n    \n    const dogCount = getDogCountForDate(date);\n    const activeCount = getActiveCountForDate(date);\n    const dateStr = format(date, 'yyyy-MM-dd');\n    \n    console.log('DEBUG - Click:', {\n      employeeId,\n      date: dateStr,\n      existingStatus: existingEntry?.status,\n      dogCount,\n      allEntriesForDate: attendance.filter(entry => entry.date === dateStr)\n    });\n    \n    try {\n      if (existingEntry) {\n        // Gewünschte Reihenfolge: absent -> present -> present_with_dog -> absent\n        let newStatus: AttendanceStatus;\n\n        if (existingEntry.status === 'absent') {\n          newStatus = 'present';\n        } else if (existingEntry.status === 'present') {\n          // Nächster Schritt wäre \"mit Hund\", aber nur wenn Hundelimit nicht erreicht\n          if (dogCount >= 2) {\n            newStatus = 'absent';\n          } else {\n            newStatus = 'present_with_dog';\n          }\n        } else if (existingEntry.status === 'present_with_dog') {\n          newStatus = 'absent';\n        } else {\n          newStatus = 'present';\n        }\n        \n        // Warnung ab der 26. aktiven Person (present/present_with_dog) am Tag\n        const wasActive = existingEntry.status === 'present' || existingEntry.status === 'present_with_dog';\n        const willBeActive = newStatus === 'present' || newStatus === 'present_with_dog';\n        const projectedActive = activeCount + (willBeActive && !wasActive ? 1 : 0) - (!willBeActive && wasActive ? 1 : 0);\n        if (projectedActive > 25 && willBeActive) {\n          alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');\n        }\n\n        const updatedEntry: AttendanceEntry = {\n          ...existingEntry,\n          status: newStatus,\n        };\n        \n        await storage.addAttendanceEntry(updatedEntry);\n      } else {\n        // Neuen Eintrag erstellen - Passwort-Abfrage anzeigen\n        setPendingAction({ employeeId, date });\n        setPasswordModalType('set');\n        setPasswordInput('');\n        setShowPasswordModal(true);\n        return;\n      }\n      \n      // Daten neu laden um sicherzustellen, dass alles synchron ist\n      const updatedAttendance = await storage.getAttendance();\n      setAttendance(updatedAttendance);\n      \n      console.log('Status aktualisiert:', {\n        employeeId,\n        date: dateStr,\n        newStatus: existingEntry ? 'updated' : 'created',\n        totalAttendanceEntries: updatedAttendance.length,\n        entriesForDate: updatedAttendance.filter(entry => entry.date === dateStr).length\n      });\n    } catch (error) {\n      console.error('Fehler beim Aktualisieren der Anwesenheit:', error);\n      alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');\n    }\n  };\n\n  const handlePasswordSubmit = async () => {\n    if (!pendingAction) return;\n\n    const { employeeId, date, entry } = pendingAction;\n    const dateStr = format(date, 'yyyy-MM-dd');\n\n    if (passwordModalType === 'verify') {\n      // Passwort verifizieren\n      if (!entry) return;\n      \n      if (passwordInput !== entry.password) {\n        alert('Falsches Passwort!');\n        return;\n      }\n      \n      // Passwort korrekt - Eintrag bearbeiten\n      setShowPasswordModal(false);\n      setPendingAction(null);\n      setPasswordInput('');\n      \n      // Jetzt den eigentlichen Click durchführen\n      await performEntryUpdate(employeeId, date, entry);\n    } else {\n      // Neues Passwort setzen und Eintrag erstellen\n      const dogCount = getDogCountForDate(date);\n      const activeCount = getActiveCountForDate(date);\n      \n      // Warnung für neuen aktiven Eintrag ab der 26. Person\n      if (activeCount + 1 > 25) {\n        alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');\n      }\n\n      const newEntry: AttendanceEntry = {\n        id: Date.now().toString(),\n        employeeId: employeeId,\n        date: dateStr,\n        status: 'present',\n        ownerId: getDeviceId(),\n        password: passwordInput || undefined, // Nur setzen wenn nicht leer\n      };\n      \n      try {\n        await storage.addAttendanceEntry(newEntry);\n        const updatedAttendance = await storage.getAttendance();\n        setAttendance(updatedAttendance);\n        \n        setShowPasswordModal(false);\n        setPendingAction(null);\n        setPasswordInput('');\n      } catch (error) {\n        console.error('Fehler beim Speichern der Anwesenheit:', error);\n        alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');\n      }\n    }\n  };\n\n  const performEntryUpdate = async (employeeId: string, date: Date, existingEntry: AttendanceEntry) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    const dogCount = getDogCountForDate(date);\n    const activeCount = getActiveCountForDate(date);\n\n    try {\n      // Gewünschte Reihenfolge: absent -> present -> present_with_dog -> absent\n      let newStatus: AttendanceStatus;\n\n      if (existingEntry.status === 'absent') {\n        newStatus = 'present';\n      } else if (existingEntry.status === 'present') {\n        // Nächster Schritt wäre \"mit Hund\", aber nur wenn Hundelimit nicht erreicht\n        if (dogCount >= 2) {\n          newStatus = 'absent';\n        } else {\n          newStatus = 'present_with_dog';\n        }\n      } else if (existingEntry.status === 'present_with_dog') {\n        newStatus = 'absent';\n      } else {\n        newStatus = 'present';\n      }\n      \n      // Warnung ab der 26. aktiven Person (present/present_with_dog) am Tag\n      const wasActive = existingEntry.status === 'present' || existingEntry.status === 'present_with_dog';\n      const willBeActive = newStatus === 'present' || newStatus === 'present_with_dog';\n      const projectedActive = activeCount + (willBeActive && !wasActive ? 1 : 0) - (!willBeActive && wasActive ? 1 : 0);\n      if (projectedActive > 25 && willBeActive) {\n        alert('Hinweis: Das Büro ist bereits voll (max. 25 Personen). Du kannst dich trotzdem eintragen.');\n      }\n\n      const updatedEntry: AttendanceEntry = {\n        ...existingEntry,\n        status: newStatus,\n      };\n      \n      await storage.addAttendanceEntry(updatedEntry);\n      \n      // Daten neu laden um sicherzustellen, dass alles synchron ist\n      const updatedAttendance = await storage.getAttendance();\n      setAttendance(updatedAttendance);\n    } catch (error) {\n      console.error('Fehler beim Aktualisieren der Anwesenheit:', error);\n      alert('Fehler beim Speichern der Anwesenheit. Bitte versuchen Sie es erneut.');\n    }\n  };\n\n  const handleAddEmployee = async () => {\n    if (!newEmployeeName.trim()) return;\n\n    try {\n      const newEmployee = await storage.addEmployee({\n        name: newEmployeeName.trim(),\n        department: 'Unbekannt', // Standardwert\n      });\n      \n      // Lokal hinzugefügte Mitarbeiter in localStorage speichern\n      const localEmployees = JSON.parse(localStorage.getItem('local_employees') || '[]');\n      localEmployees.push(newEmployee.id);\n      localStorage.setItem('local_employees', JSON.stringify(localEmployees));\n      \n      setNewEmployeeName('');\n      await loadData(); // Daten neu laden, um den neuen Mitarbeiter zu sehen\n    } catch (error) {\n      console.error('Fehler beim Hinzufügen des Mitarbeiters:', error);\n      alert('Fehler beim Hinzufügen des Mitarbeiters. Bitte versuchen Sie es erneut.');\n    }\n  };\n\n  const handleDeleteEmployee = async (employeeId: string) => {\n    const employee = employees.find(emp => emp.id === employeeId);\n    if (!employee) return;\n    \n    const confirmMessage = `Sind Sie sicher, dass Sie \"${employee.name}\" löschen möchten?\\n\\nDies löscht auch alle Anwesenheitsdaten dieser Person.`;\n    \n    if (window.confirm(confirmMessage)) {\n      try {\n        await storage.deleteEmployee(employeeId);\n        setEmployees(employees.filter(emp => emp.id !== employeeId));\n        \n        // Lokalen Mitarbeiter aus localStorage entfernen\n        const localEmployees = JSON.parse(localStorage.getItem('local_employees') || '[]');\n        const updatedLocalEmployees = localEmployees.filter((id: string) => id !== employeeId);\n        localStorage.setItem('local_employees', JSON.stringify(updatedLocalEmployees));\n        \n        // Anwesenheitsdaten lokal aktualisieren\n        const cleanedAttendance = attendance.filter(entry => entry.employeeId !== employeeId);\n        setAttendance(cleanedAttendance);\n        \n        console.log('Mitarbeiter erfolgreich gelöscht:', {\n          employeeName: employee.name,\n          employeeId,\n          removedAttendanceEntries: attendance.length - cleanedAttendance.length\n        });\n      } catch (error) {\n        console.error('Fehler beim Löschen des Mitarbeiters:', error);\n        alert('Fehler beim Löschen des Mitarbeiters. Bitte versuchen Sie es erneut.');\n      }\n    }\n  };\n\n  const handlePreviousWeek = () => {\n    const newDate = addDays(selectedDate, -7);\n    onDateSelect(newDate);\n  };\n\n  const handleNextWeek = () => {\n    const newDate = addDays(selectedDate, 7);\n    onDateSelect(newDate);\n  };\n\n  const isCurrentWeek = () => {\n    const currentWeekStart = startOfWeek(new Date(), { weekStartsOn: 1 });\n    const selectedWeekStart = startOfWeek(selectedDate, { weekStartsOn: 1 });\n    return currentWeekStart.getTime() === selectedWeekStart.getTime();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Kalender-Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          {!isCurrentWeek() && (\n            <button\n              onClick={handlePreviousWeek}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />\n            </button>\n          )}\n          \n          <div className=\"text-center\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              {currentWeek.length > 0 ? (\n                `${format(currentWeek[0], 'dd.MM.yyyy', { locale: de })} - ${format(currentWeek[4], 'dd.MM.yyyy', { locale: de })}`\n              ) : (\n                'Lade Kalender...'\n              )}\n            </h2>\n            {currentWeek.length > 0 && (\n              <div className=\"flex items-center justify-center mt-2 space-x-4 text-sm text-gray-600\">\n                <div className=\"flex items-center\">\n                  <User className=\"w-4 h-4 mr-1\" />\n                  <span className={`${getActiveCountForDate(selectedDate) >= 25 ? 'text-red-600 font-medium' : ''}`}>\n                    {getActiveCountForDate(selectedDate)}/25 belegt (für {format(selectedDate, 'dd.MM.yyyy', { locale: de })})\n                  </span>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <button\n            onClick={handleNextWeek}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <ChevronRight className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Kalender-Tabelle */}\n      {currentWeek.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">\n                    Mitarbeiter\n                  </th>\n                  {currentWeek.map((date) => (\n                    <th key={date.toISOString()} className=\"px-2 py-3 text-center text-sm font-medium text-gray-500 uppercase tracking-wider\">\n                      <div className=\"flex flex-col items-center\">\n                        <span className=\"text-xs text-gray-400\">\n                          {format(date, 'EEE', { locale: de })}\n                        </span>\n                        <span className={`text-sm font-medium ${\n                          isToday(date) ? 'text-blue-600 bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center' : ''\n                        }`}>\n                          {format(date, 'dd')}\n                        </span>\n                        <span className={`mt-1 text-[11px] ${getActiveCountForDate(date) >= 25 ? 'text-red-600 font-medium' : 'text-gray-500'}`}>\n                          {getActiveCountForDate(date)}/25\n                        </span>\n                      </div>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {employees.map((employee) => (\n                  <tr key={employee.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 whitespace-nowrap\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-8 w-8\">\n                            <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\">\n                              <span className=\"text-sm font-medium text-blue-700\">\n                                {employee.name.split(' ').map(n => n[0]).join('')}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"ml-3\">\n                            <div className=\"text-sm font-medium text-gray-900\">\n                              {employee.name}\n                            </div>\n                          </div>\n                        </div>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleDeleteEmployee(employee.id);\n                          }}\n                          className=\"p-1 hover:bg-red-100 rounded-full text-red-600 transition-colors disabled:opacity-40\"\n                          title=\"Mitarbeiter löschen\"\n                          disabled={!\n                            // Nur lokale Mitarbeiter (aus eigener Liste) dürfen gelöscht werden\n                            JSON.parse(localStorage.getItem('local_employees') || '[]').includes(employee.id)\n                          }\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    </td>\n                    {currentWeek.map((date) => {\n                      const entry = getAttendanceForEmployeeAndDate(employee.id, date);\n                      const dogCount = getDogCountForDate(date);\n                      const displayStatus: AttendanceStatus | null = entry?.status ?? 'absent';\n                      const isProtected = entry && entry.password && !canModifyEntry(entry);\n                      return (\n                        <td \n                          key={date.toISOString()} \n                          className=\"px-2 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors relative\"\n                          onClick={() => handleCellClick(employee.id, date)}\n                        >\n                          <div className=\"flex items-center justify-center\">\n                            <div className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusColor(displayStatus)}`}>\n                              {getStatusIcon(displayStatus)}\n                              <span className=\"ml-1\">{getStatusText(displayStatus)}</span>\n                              {isProtected && (\n                                <span title=\"Passwortgeschützt\">\n                                  <Lock className=\"w-3 h-3 ml-1 opacity-50\" />\n                                </span>\n                              )}\n                            </div>\n                          </div>\n\n                        </td>\n                      );\n                    })}\n                  </tr>\n                ))}\n                \n                {/* Neue Mitarbeiter-Zeile */}\n                <tr className=\"bg-gray-50 hover:bg-gray-100\">\n                  <td className=\"px-4 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-start space-x-4\">\n                      <div className=\"flex-shrink-0 h-8 w-8\">\n                        <div className=\"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center\">\n                          <Plus className=\"w-4 h-4 text-green-600\" />\n                        </div>\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <div>\n                          <label className=\"block text-xs font-medium text-gray-700 mb-1\">\n                            Name\n                          </label>\n                          <input\n                            type=\"text\"\n                            placeholder=\"Vollständiger Name...\"\n                            value={newEmployeeName}\n                            onChange={(e) => setNewEmployeeName(e.target.value)}\n                            className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                            onKeyPress={(e) => e.key === 'Enter' && handleAddEmployee()}\n                          />\n                        </div>\n                      </div>\n                      <div className=\"flex-shrink-0 flex items-center mt-6\">\n                        <button\n                          onClick={handleAddEmployee}\n                          disabled={!newEmployeeName.trim()}\n                          className=\"px-4 py-1.5 text-sm font-medium bg-green-700 text-white rounded-md hover:bg-green-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors whitespace-nowrap\"\n                        >\n                          Hinzufügen\n                        </button>\n                      </div>\n                    </div>\n                  </td>\n                  {currentWeek.map((date) => (\n                    <td key={date.toISOString()} className=\"px-2 py-4 text-center\">\n                    </td>\n                  ))}\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Passwort-Modal */}\n      {showPasswordModal && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {passwordModalType === 'set' ? 'Passwort festlegen (optional)' : 'Passwort eingeben'}\n              </h3>\n              \n              <div className=\"space-y-4\">\n                {passwordModalType === 'set' && (\n                  <p className=\"text-sm text-gray-600\">\n                    Du kannst optional ein Passwort festlegen, um diesen Eintrag von anderen Geräten aus bearbeiten zu können.\n                    Wenn du kein Passwort setzt, kannst du den Eintrag nur von diesem Gerät aus bearbeiten.\n                  </p>\n                )}\n                {passwordModalType === 'verify' && (\n                  <p className=\"text-sm text-gray-600\">\n                    Dieser Eintrag wurde von einem anderen Gerät erstellt. Bitte gib das Passwort ein, um ihn zu bearbeiten.\n                  </p>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Passwort {passwordModalType === 'set' && '(optional)'}\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={passwordInput}\n                    onChange={(e) => setPasswordInput(e.target.value)}\n                    className=\"input-field\"\n                    placeholder={passwordModalType === 'set' ? 'Leer lassen für kein Passwort' : 'Passwort eingeben'}\n                    onKeyPress={(e) => {\n                      if (e.key === 'Enter') {\n                        handlePasswordSubmit();\n                      }\n                    }}\n                    autoFocus\n                  />\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowPasswordModal(false);\n                      setPendingAction(null);\n                      setPasswordInput('');\n                    }}\n                    className=\"btn-secondary\"\n                  >\n                    Abbrechen\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={handlePasswordSubmit}\n                    className=\"btn-primary\"\n                  >\n                    {passwordModalType === 'set' ? 'Erstellen' : 'Bestätigen'}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AttendanceCalendar;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}