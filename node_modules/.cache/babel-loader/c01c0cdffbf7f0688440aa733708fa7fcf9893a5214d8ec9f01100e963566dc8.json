{"ast":null,"code":"import _objectSpread from\"C:/Users/jassy/OneDrive/Desktop/work/office plan/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{format,startOfWeek,addDays,isToday}from'date-fns';import{de}from'date-fns/locale';import{ChevronLeft,ChevronRight,User,X,Plus,Dog}from'lucide-react';import{storage}from'../utils/storage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceCalendar=_ref=>{let{selectedDate,onDateSelect}=_ref;const[employees,setEmployees]=useState([]);const[attendance,setAttendance]=useState([]);const[currentWeek,setCurrentWeek]=useState([]);useEffect(()=>{console.log('AttendanceCalendar - Initialisierung:',{localStorageAvailable:typeof window!=='undefined'&&!!window.localStorage,employeesCount:storage.getEmployees().length,attendanceCount:storage.getAttendance().length});loadData();generateWeekDays();},[]);useEffect(()=>{generateWeekDays();},[selectedDate]);const loadData=()=>{setEmployees(storage.getEmployees());setAttendance(storage.getAttendance());};const generateWeekDays=()=>{const weekStart=startOfWeek(selectedDate,{weekStartsOn:1});const days=[];// Nur Montag bis Freitag (5 Tage)\nfor(let i=0;i<5;i++){days.push(addDays(weekStart,i));}setCurrentWeek(days);};const getStatusIcon=status=>{if(!status)return/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 text-gray-400\"});switch(status){case'present':return/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-green-600\"});case'present_with_dog':return/*#__PURE__*/_jsx(Dog,{className:\"w-4 h-4 text-orange-600\"});case'absent':return/*#__PURE__*/_jsx(X,{className:\"w-4 h-4 text-red-600\"});default:return/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 text-gray-400\"});}};const getStatusColor=status=>{if(!status)return'bg-gray-50 text-gray-500 border-gray-200';switch(status){case'present':return'bg-green-100 text-green-800 border-green-200';case'present_with_dog':return'bg-orange-100 text-orange-800 border-orange-200';case'absent':return'bg-red-100 text-red-800 border-red-200';default:return'bg-gray-50 text-gray-500 border-gray-200';}};const getStatusText=status=>{if(!status)return'Hinzuf端gen';switch(status){case'present':return'Anwesend';case'present_with_dog':return'Mit Hund';case'absent':return'Abwesend';default:return'Hinzuf端gen';}};const getAttendanceForEmployeeAndDate=(employeeId,date)=>{const dateStr=format(date,'yyyy-MM-dd');return attendance.find(entry=>entry.employeeId===employeeId&&entry.date===dateStr);};const getDogCountForDate=date=>{const dateStr=format(date,'yyyy-MM-dd');return attendance.filter(entry=>entry.date===dateStr&&entry.status==='present_with_dog').length;};const handleCellClick=(employeeId,date)=>{const existingEntry=getAttendanceForEmployeeAndDate(employeeId,date);const dogCount=getDogCountForDate(date);console.log('DEBUG - Click:',{employeeId,date:format(date,'yyyy-MM-dd'),existingStatus:existingEntry===null||existingEntry===void 0?void 0:existingEntry.status,dogCount,allEntriesForDate:attendance.filter(entry=>entry.date===format(date,'yyyy-MM-dd')),localStorageAvailable:typeof window!=='undefined'&&!!window.localStorage});if(existingEntry){// Status durchwechseln: abwesend -> anwesend -> mit hund -> abwesend\nlet newStatus;if(existingEntry.status==='absent'){newStatus='present';}else if(existingEntry.status==='present'){// Immer zu \"Mit Hund\" wechseln, wenn weniger als 2 Hunde da sind\nif(dogCount<2){newStatus='present_with_dog';}else{// Wenn bereits 2 Hunde da sind, zu \"Abwesend\" wechseln\nnewStatus='absent';}}else if(existingEntry.status==='present_with_dog'){newStatus='absent';}else{newStatus='absent';}const updatedEntry=_objectSpread(_objectSpread({},existingEntry),{},{status:newStatus});storage.addAttendanceEntry(updatedEntry);}else{// Neuen Eintrag erstellen - immer \"Mit Hund\" als ersten Status\nconst newStatus='present_with_dog';const newEntry={id:Date.now().toString(),employeeId:employeeId,date:format(date,'yyyy-MM-dd'),status:newStatus};console.log('DEBUG - New entry:',{newStatus,dogCount});storage.addAttendanceEntry(newEntry);}setAttendance(storage.getAttendance());};const handlePreviousWeek=()=>{const newDate=addDays(selectedDate,-7);onDateSelect(newDate);};const handleNextWeek=()=>{const newDate=addDays(selectedDate,7);onDateSelect(newDate);};const isCurrentWeek=()=>{const currentWeekStart=startOfWeek(new Date(),{weekStartsOn:1});const selectedWeekStart=startOfWeek(selectedDate,{weekStartsOn:1});return currentWeekStart.getTime()===selectedWeekStart.getTime();};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[!isCurrentWeek()&&/*#__PURE__*/_jsx(\"button\",{onClick:handlePreviousWeek,className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:currentWeek.length>0?\"\".concat(format(currentWeek[0],'dd.MM.yyyy',{locale:de}),\" - \").concat(format(currentWeek[4],'dd.MM.yyyy',{locale:de})):'Lade Kalender...'}),currentWeek.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center mt-2 space-x-4 text-sm text-gray-600\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(Dog,{className:\"w-4 h-4 mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Empfohlen: Max 2 Hunde pro Tag\"})]})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextWeek,className:\"p-2 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})})]})}),currentWeek.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\",children:\"Mitarbeiter\"}),currentWeek.map(date=>/*#__PURE__*/_jsx(\"th\",{className:\"px-2 py-3 text-center text-sm font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:format(date,'EEE',{locale:de})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(isToday(date)?'text-blue-600 bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center':''),children:format(date,'dd')})]})},date.toISOString()))]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:employees.map(employee=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-3 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-8 w-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-700\",children:employee.name.split(' ').map(n=>n[0]).join('')})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:employee.name}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:employee.department})]})]})}),currentWeek.map(date=>{const entry=getAttendanceForEmployeeAndDate(employee.id,date);const dogCount=getDogCountForDate(date);return/*#__PURE__*/_jsx(\"td\",{className:\"px-2 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors relative\",onClick:()=>handleCellClick(employee.id,date),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border \".concat(getStatusColor((entry===null||entry===void 0?void 0:entry.status)||null)),children:[getStatusIcon((entry===null||entry===void 0?void 0:entry.status)||null),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:getStatusText((entry===null||entry===void 0?void 0:entry.status)||null)})]})})},date.toISOString());})]},employee.id))})]})})})]});};export default AttendanceCalendar;","map":{"version":3,"names":["React","useState","useEffect","format","startOfWeek","addDays","isToday","de","ChevronLeft","ChevronRight","User","X","Plus","Dog","storage","jsx","_jsx","jsxs","_jsxs","AttendanceCalendar","_ref","selectedDate","onDateSelect","employees","setEmployees","attendance","setAttendance","currentWeek","setCurrentWeek","console","log","localStorageAvailable","window","localStorage","employeesCount","getEmployees","length","attendanceCount","getAttendance","loadData","generateWeekDays","weekStart","weekStartsOn","days","i","push","getStatusIcon","status","className","getStatusColor","getStatusText","getAttendanceForEmployeeAndDate","employeeId","date","dateStr","find","entry","getDogCountForDate","filter","handleCellClick","existingEntry","dogCount","existingStatus","allEntriesForDate","newStatus","updatedEntry","_objectSpread","addAttendanceEntry","newEntry","id","Date","now","toString","handlePreviousWeek","newDate","handleNextWeek","isCurrentWeek","currentWeekStart","selectedWeekStart","getTime","children","onClick","concat","locale","map","toISOString","employee","name","split","n","join","department"],"sources":["C:/Users/jassy/OneDrive/Desktop/work/office plan/src/components/AttendanceCalendar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format, startOfWeek, addDays, isToday } from 'date-fns';\nimport { de } from 'date-fns/locale';\nimport { ChevronLeft, ChevronRight, User, X, Plus, Dog } from 'lucide-react';\nimport { Employee, AttendanceEntry, AttendanceStatus } from '../types';\nimport { storage } from '../utils/storage';\n\ninterface AttendanceCalendarProps {\n  selectedDate: Date;\n  onDateSelect: (date: Date) => void;\n}\n\nconst AttendanceCalendar: React.FC<AttendanceCalendarProps> = ({ selectedDate, onDateSelect }) => {\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [attendance, setAttendance] = useState<AttendanceEntry[]>([]);\n  const [currentWeek, setCurrentWeek] = useState<Date[]>([]);\n\n  useEffect(() => {\n    console.log('AttendanceCalendar - Initialisierung:', {\n      localStorageAvailable: typeof window !== 'undefined' && !!window.localStorage,\n      employeesCount: storage.getEmployees().length,\n      attendanceCount: storage.getAttendance().length\n    });\n    \n    loadData();\n    generateWeekDays();\n  }, []);\n\n  useEffect(() => {\n    generateWeekDays();\n  }, [selectedDate]);\n\n  const loadData = () => {\n    setEmployees(storage.getEmployees());\n    setAttendance(storage.getAttendance());\n  };\n\n  const generateWeekDays = () => {\n    const weekStart = startOfWeek(selectedDate, { weekStartsOn: 1 });\n    const days: Date[] = [];\n    // Nur Montag bis Freitag (5 Tage)\n    for (let i = 0; i < 5; i++) {\n      days.push(addDays(weekStart, i));\n    }\n    setCurrentWeek(days);\n  };\n\n  const getStatusIcon = (status: AttendanceStatus | null) => {\n    if (!status) return <Plus className=\"w-4 h-4 text-gray-400\" />;\n    \n    switch (status) {\n      case 'present':\n        return <User className=\"w-4 h-4 text-green-600\" />;\n      case 'present_with_dog':\n        return <Dog className=\"w-4 h-4 text-orange-600\" />;\n      case 'absent':\n        return <X className=\"w-4 h-4 text-red-600\" />;\n      default:\n        return <Plus className=\"w-4 h-4 text-gray-400\" />;\n    }\n  };\n\n  const getStatusColor = (status: AttendanceStatus | null) => {\n    if (!status) return 'bg-gray-50 text-gray-500 border-gray-200';\n    \n    switch (status) {\n      case 'present':\n        return 'bg-green-100 text-green-800 border-green-200';\n      case 'present_with_dog':\n        return 'bg-orange-100 text-orange-800 border-orange-200';\n      case 'absent':\n        return 'bg-red-100 text-red-800 border-red-200';\n      default:\n        return 'bg-gray-50 text-gray-500 border-gray-200';\n    }\n  };\n\n  const getStatusText = (status: AttendanceStatus | null) => {\n    if (!status) return 'Hinzuf端gen';\n    \n    switch (status) {\n      case 'present':\n        return 'Anwesend';\n      case 'present_with_dog':\n        return 'Mit Hund';\n      case 'absent':\n        return 'Abwesend';\n      default:\n        return 'Hinzuf端gen';\n    }\n  };\n\n  const getAttendanceForEmployeeAndDate = (employeeId: string, date: Date) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    return attendance.find(entry => \n      entry.employeeId === employeeId && entry.date === dateStr\n    );\n  };\n\n  const getDogCountForDate = (date: Date) => {\n    const dateStr = format(date, 'yyyy-MM-dd');\n    return attendance.filter(entry => \n      entry.date === dateStr && entry.status === 'present_with_dog'\n    ).length;\n  };\n\n  const handleCellClick = (employeeId: string, date: Date) => {\n    const existingEntry = getAttendanceForEmployeeAndDate(employeeId, date);\n    const dogCount = getDogCountForDate(date);\n    \n    console.log('DEBUG - Click:', {\n      employeeId,\n      date: format(date, 'yyyy-MM-dd'),\n      existingStatus: existingEntry?.status,\n      dogCount,\n      allEntriesForDate: attendance.filter(entry => entry.date === format(date, 'yyyy-MM-dd')),\n      localStorageAvailable: typeof window !== 'undefined' && !!window.localStorage\n    });\n    \n    if (existingEntry) {\n      // Status durchwechseln: abwesend -> anwesend -> mit hund -> abwesend\n      let newStatus: AttendanceStatus;\n      if (existingEntry.status === 'absent') {\n        newStatus = 'present';\n      } else if (existingEntry.status === 'present') {\n        // Immer zu \"Mit Hund\" wechseln, wenn weniger als 2 Hunde da sind\n        if (dogCount < 2) {\n          newStatus = 'present_with_dog';\n        } else {\n          // Wenn bereits 2 Hunde da sind, zu \"Abwesend\" wechseln\n          newStatus = 'absent';\n        }\n      } else if (existingEntry.status === 'present_with_dog') {\n        newStatus = 'absent';\n      } else {\n        newStatus = 'absent';\n      }\n      \n      const updatedEntry: AttendanceEntry = {\n        ...existingEntry,\n        status: newStatus,\n      };\n      \n      storage.addAttendanceEntry(updatedEntry);\n    } else {\n      // Neuen Eintrag erstellen - immer \"Mit Hund\" als ersten Status\n      const newStatus = 'present_with_dog';\n      const newEntry: AttendanceEntry = {\n        id: Date.now().toString(),\n        employeeId: employeeId,\n        date: format(date, 'yyyy-MM-dd'),\n        status: newStatus,\n      };\n      \n      console.log('DEBUG - New entry:', { newStatus, dogCount });\n      storage.addAttendanceEntry(newEntry);\n    }\n    \n    setAttendance(storage.getAttendance());\n  };\n\n  const handlePreviousWeek = () => {\n    const newDate = addDays(selectedDate, -7);\n    onDateSelect(newDate);\n  };\n\n  const handleNextWeek = () => {\n    const newDate = addDays(selectedDate, 7);\n    onDateSelect(newDate);\n  };\n\n  const isCurrentWeek = () => {\n    const currentWeekStart = startOfWeek(new Date(), { weekStartsOn: 1 });\n    const selectedWeekStart = startOfWeek(selectedDate, { weekStartsOn: 1 });\n    return currentWeekStart.getTime() === selectedWeekStart.getTime();\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Kalender-Header */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          {!isCurrentWeek() && (\n            <button\n              onClick={handlePreviousWeek}\n              className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n            >\n              <ChevronLeft className=\"w-5 h-5\" />\n            </button>\n          )}\n          \n          <div className=\"text-center\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              {currentWeek.length > 0 ? (\n                `${format(currentWeek[0], 'dd.MM.yyyy', { locale: de })} - ${format(currentWeek[4], 'dd.MM.yyyy', { locale: de })}`\n              ) : (\n                'Lade Kalender...'\n              )}\n            </h2>\n            {currentWeek.length > 0 && (\n              <div className=\"flex items-center justify-center mt-2 space-x-4 text-sm text-gray-600\">\n                <div className=\"flex items-center\">\n                  <Dog className=\"w-4 h-4 mr-1\" />\n                  <span>Empfohlen: Max 2 Hunde pro Tag</span>\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <button\n            onClick={handleNextWeek}\n            className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n          >\n            <ChevronRight className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Kalender-Tabelle */}\n      {currentWeek.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider\">\n                    Mitarbeiter\n                  </th>\n                  {currentWeek.map((date) => (\n                    <th key={date.toISOString()} className=\"px-2 py-3 text-center text-sm font-medium text-gray-500 uppercase tracking-wider\">\n                      <div className=\"flex flex-col items-center\">\n                        <span className=\"text-xs text-gray-400\">\n                          {format(date, 'EEE', { locale: de })}\n                        </span>\n                        <span className={`text-sm font-medium ${\n                          isToday(date) ? 'text-blue-600 bg-blue-100 rounded-full w-8 h-8 flex items-center justify-center' : ''\n                        }`}>\n                          {format(date, 'dd')}\n                        </span>\n                      </div>\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {employees.map((employee) => (\n                  <tr key={employee.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-4 py-3 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-8 w-8\">\n                          <div className=\"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-blue-700\">\n                              {employee.name.split(' ').map(n => n[0]).join('')}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"ml-3\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {employee.name}\n                          </div>\n                          <div className=\"text-sm text-gray-500\">\n                            {employee.department}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    {currentWeek.map((date) => {\n                      const entry = getAttendanceForEmployeeAndDate(employee.id, date);\n                      const dogCount = getDogCountForDate(date);\n                      return (\n                        <td \n                          key={date.toISOString()} \n                          className=\"px-2 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors relative\"\n                          onClick={() => handleCellClick(employee.id, date)}\n                        >\n                          <div className=\"flex items-center justify-center\">\n                            <div className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${getStatusColor(entry?.status || null)}`}>\n                              {getStatusIcon(entry?.status || null)}\n                              <span className=\"ml-1\">{getStatusText(entry?.status || null)}</span>\n                            </div>\n                            \n                          </div>\n\n                        </td>\n                      );\n                    })}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AttendanceCalendar;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}